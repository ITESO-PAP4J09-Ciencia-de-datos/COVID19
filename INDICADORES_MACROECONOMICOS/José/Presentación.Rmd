---
title: "PAP presentation"
output: powerpoint_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(flexdashboard)
library(knitr)
library(DT)
library(rpivotTable)
library(ggplot2)
library(plotly)
library(dplyr)
library(openintro)
library(highcharter)
library(ggvis)
library(tidyverse)
library(tsibble)
library(feasts)
library(fable)
library(readxl)
library(lubridate)
library(gganimate)
library(gifski)
library(av)
library(gapminder)
library(stringr)
library(readr)
library(zoo)
library(forecast) 
library(tsibbledata)
library(patchwork)
library(quantmod)
library(GGally)
```

## Introducción

Los indicadores macroeconómicos son estadísticas económicas que se liberan periódicamente por agencias gubernamentales y organizaciones privadas. Estos indicadores proporcionan información sobre el rendimiento económico de un país o de una región en particular y, por lo tanto, tienen un impacto significativo sobre el mercado de divisas y las operaciones comerciales



## PIB
El producto interior bruto (PIB) es un indicador macroeconómico que refleja el valor monetario de todos los bienes y servicios finales producidos por un país o región en un determinado periodo de tiempo, normalmente un año. Se utiliza para medir la riqueza que genera un país. También se conoce como producto bruto interno (PBI).



```{r}
PIB1 <- read_excel("../BD_INDICADORES_MACROECONOMICOS.xlsx", sheet = "PIB")
colnames(PIB1) <- c("Clave","Estado","Year","Clave_Sector","Nombre_Sector","Actividad","PIB")
PIB_Test <- PIB1 %>% 
  as_tsibble(index=Year,key=c(Estado,Nombre_Sector)) %>% 
  group_by(Estado,Nombre_Sector,Actividad) %>% 
  summarise(PIB=sum(PIB))
mycolors <- c("blue", "#FFC125", "darkgreen", "darkorange")
```

## Gráfica PIB

![Gráfica PIB](figs/GIF_TEST2.gif)

## Gráfica de PIB

```{r}
p1 <- PIB_Test %>% group_by(Estado) %>% 
  summarize(PIB1=sum(PIB)) %>% 
  filter(Estado=="Jalisco"|
           Estado=="Ciudad de México"|
           Estado=="Estado de México"|
           Estado=="Nuevo León"|
           Estado=="Veracruz"|
           Estado=="Guanajuato") %>% 
  ggplot(aes(x=Year,y=PIB1),size=2) +
  geom_line(aes(color=Estado)) +
  scale_y_log10() #+ 
  #transition_reveal(PIB1)
p1
```

## INPC

Vamos a analizar el INPC (Indice Nacional de Precios al Consumidor).
Primero hay que definir que es el índice de precios al consumidor o índice de precios de consumo(comúnmente llamado por su sigla IPC) ; es un índice económico en el que se valoran los precios de un determinado conjunto de bienes y servicios.



## Gráficas INPC

```{r, include=FALSE, warning=FALSE, echo=FALSE}
INPC <- read_excel("../BD_INDICADORES_MACROECONOMICOS.xlsx", sheet = "INPC")
INPCJ <- INPC[INPC$`Nombre entidad` == "Jalisco",]
INPCJ <- select(INPCJ, -"Clave entidad", -"Nombre entidad")
```

```{r, include=FALSE, warning=FALSE}
INPCJ <- INPCJ %>%
mutate(Month = yearmonth(Fecha)) %>%
select(-Fecha) %>%
as_tsibble(key = c(`Objeto de gasto`),
index = Month) #%>%
#mutate(diff_INPCJ = difference(Índice))

```

```{r, echo=FALSE, warning=FALSE, message=FALSE,fig.dim=c(10,8)}
autoplot(INPCJ)
```




## IED

La Inversión Extranjera Directa (IED) es aquella que tiene como propósito crear un vínculo duradero con fines económicos y empresariales de largo plazo, por parte de un inversionista extranjero en el país receptor.



## Gráfica IED
```{r, echo=FALSE, warning=FALSE, message=FALSE,fig.dim=c(10,8)}
theme_set(theme_minimal())
#Inversi?n Extranjera Directa por tipo de inversi?n
#Definir el Dataset
IED <-  read_excel("../BD_INDICADORES_MACROECONOMICOS.xlsx",
                   sheet = "IED1")

IED <- IED %>% 
  mutate(Periodo = dmy(Periodo),
         Periodo = yearquarter(Periodo))
colnames(IED) <- c("Fecha","Tipo","Cifras Preliminares","Cifras Revisadas","C")

#IED %>% glimpse()

IED_tsbl <- IED %>% 
  pivot_longer(
    cols      = c(`Cifras Preliminares`, `Cifras Revisadas`, C),
    names_to  = "Tipo_de_cifra",
    values_to = "Cifras"
  ) %>% 
  as_tsibble(
    index = Fecha,
    key   = c(Tipo, Tipo_de_cifra)
  )

IED_tsbl %>%
  filter(Tipo_de_cifra != "C") %>% 
  autoplot() +
  facet_wrap(~ Tipo, ncol = 1)

```

## ENOE

Introducción Encuesta Nacional de ocupación y empleo

## Slide with R Output

```{r cars, echo = TRUE}
summary(cars)
```

## Slide with Plot

```{r pressure}
plot(pressure)
```

